#!/bin/bash

clear

declare -A applications

applications=(
  ["Neovim"]="nvim"
  ["Rusty Music Player Client"]="rmpc"
  ["Stig"]="nordvpn connect p2p && transmission-daemon && stig"
  ["btop"]="btop"
  ["Yazi"]="yazi"
  ["pass"]="pass"
  ["Rainfrog"]="rainfrog" # Installed (as is mariadb) but not set up
  ["abook"]="abook"
  # ["mutt"]="mutt" # Not sure if I want this, Neomutt or some other mailer program (none seem to have image support)
  # ["Bagels"]="bagels" # Interesting expense tracker, with the drawback that it isn't plaintext based
  ["calcure"]="calcure"
  ["sc-im"]="TERM=xterm-256color sc-im"
  ["fend"]="fend"
  ["oxker"]="oxker"
  ["jrnl"]="jrnl -to today"
  ["todo.txt"]="todo.sh list"
  ["regect"]="regect"
  # ["grex"]="grex" # Listed here as a reminder; requires arguments (which I may try to support here in future)
  # ["pastel"]="pastel" # Also requires arguments
  ["Television"]="tv"
  ["wttr.in"]="curl wttr.in/$HOMETOWN" # HOMETOWN should be set in environment
  # ["ddgr"]="ddgr" # As above, requires additional arguments (a search term)
  ["radio"]="radio" # Custom script (a bit like this one)
  # TODO: We want an easy way to launch some of our database services
  #       (MariaDB, PostgreSQL, Redis, etc.)
  #       We also want to spin them down when not in use... so this is sort
  #       of out of scope for this script. The below is provided as only an
  #       example of how we want to start the postgres daemon.
  # ["PostgreSQL"]="systemctl start postgresql.service"
  ["GitUI"]="gitui"
  ["LazyGit"]="lazygit"
  # We're evaluating both GitUI and LazyGit for the time being...
  # On first impression, LazyGit is very much winning.
)

APP=$(gum choose "${!applications[@]}")

[[ $APP == "" ]] && exit 1

eval "${applications[$APP]}"
