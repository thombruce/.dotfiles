#!/bin/bash

declare -A stations

# Sources:
# - https://en.everybodywiki.com/List_of_BBC_radio_stream_URLs (I seem to be having the best success with Cloudfront URLs from here)
stations=(
  ["BBC Radio 1"]="http://as-hls-ww.live.cf.md.bbci.co.uk/pool_01505109/live/ww/bbc_radio_one/bbc_radio_one.isml/bbc_radio_one-audio%3d96000.norewind.m3u8"
  ["BBC Radio 2"]="http://as-hls-ww.live.cf.md.bbci.co.uk/pool_74208725/live/ww/bbc_radio_two/bbc_radio_two.isml/bbc_radio_two-audio%3d96000.norewind.m3u8"
  ["BBC Radio 6 Music"]="http://as-hls-ww.live.cf.md.bbci.co.uk/pool_81827798/live/ww/bbc_6music/bbc_6music.isml/bbc_6music-audio%3d96000.norewind.m3u8"
)

STATION=$(gum choose "${!stations[@]}")

[[ $STATION == "" ]] && echo "Exiting..." && exit 1

echo "Now playing $STATION"

mpv "${stations[$STATION]}"
